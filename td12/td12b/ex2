#include <stdio.h>
#include <stdlib.h>

typedef struct Node {
  int data;
  struct Node* next;
} Node; // Définition de la structure pour un nœud de la file

typedef struct {
  Node* front;
  Node* rear;
} Queue;// Définition de la structure pour la file

void enqueue(Queue* q, int value) {
  Node* newNode = malloc(sizeof(Node));
  newNode->data = value;
  newNode->next = NULL;
  if (q->rear == NULL) {
    q->front = newNode;
    q->rear = newNode;
  } else {
    q->rear->next = newNode;
    q->rear = newNode;
  }
}// Fonction pour ajouter un élément à la file

int dequeue(Queue* q) {
  if (q->front == NULL) {
    printf("Erreur : la file est vide\n");
    return -1;
  }// Fonction pour retirer un élément de la file
  Node* temp = q->front;
  int value = temp->data;
  q->front = q->front->next;
  if (q->front == NULL) {
    q->rear = NULL;
  }
  free(temp);
  return value;
}// Fonction pour retirer un élément de la file

int main() {
  Queue q = {NULL, NULL};

  enqueue(&q, 1);
  enqueue(&q, 2);
  enqueue(&q, 3);

  printf("Défilé : %d\n", dequeue(&q));
  printf("Défilé : %d\n", dequeue(&q));

  return 0;
}// Programme principal pour tester les fonctions de la file